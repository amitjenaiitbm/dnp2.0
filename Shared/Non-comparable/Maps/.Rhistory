names(df$state)
View(df)
table(df$state_code)
df <- rename(df, "id" = "shp_dist_id")
df_shape<- sa_d_crs1 %>% left_join(df, by = "id")
class(df_shape)
n_distinct(df_shape$id)
sum(is.na(df_shape$district_code))
df_shape19 <- df_shape %>% filter(Year == "2019")
state_code<- c(3)
state_code
table(df_shape19$state_code)
mytheme <- function(...) {
theme(
plot.title = element_text(size = 14,color = "grey10",  face = "bold", hjust = 0.5),
plot.subtitle = element_text(face = "italic", color = "gray10", size = 12),
plot.caption = element_text(face = "italic", size = 12, color = "gray10"),
axis.line = element_blank(),
axis.text.x = element_blank(),
axis.text.y = element_blank(),
axis.ticks = element_blank(),
axis.title.x = element_blank(),
axis.title.y = element_blank(),
panel.grid.minor = element_blank(),
panel.grid.major = element_blank(),
plot.background = element_blank(),
panel.background = element_rect(fill = "white", color = NA),
legend.title = element_text(size = 13, face = "bold"),
legend.text = element_text(size = 12),
legend.direction = "horizontal",
legend.position = "top",
legend.background = element_rect(fill = NA, color = NA),
panel.border = element_rect(color = NA, fill = NA)
)
}
df_plot1 <- df_shape2 %>% filter(state_code == 3)
df_plot3 <- df_shape19 %>% filter(state_code == 3)
# State Map
geom_sf(data = df_plot3,
fill = "gray80",colour = "gray10",
size = 0.2, show.legend = F)+
geom_sf(data = df_plot1,aes(group=id,fill=id),
colour = "gray10",
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = mycolor1) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
class(df_plot3)
names(df_plot3)
df_plot1 <- df_shape2 %>% filter(state_code == 3)
df_plot3 <- df_shape19 %>% filter(state_code == 3)
# State Map
ggplot()+
geom_sf(data = df_plot3,
fill = "gray80",colour = "gray10",
size = 0.2, show.legend = F)+
geom_sf(data = df_plot1,aes(group=id,fill=id),
colour = "gray10",
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = mycolor1) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
df_plot1 <- df_shape2 %>% filter(state_code == 3)
df_plot3 <- df_shape19 %>% filter(state_code == 3)
# State Map
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = NA,
size = 0.2, show.legend = F)+
geom_sf(data = df_plot1,aes(group=id,fill=id),
colour = "gray10",
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = mycolor1) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray80",
size = 0.2, show.legend = F)+
geom_sf(data = df_plot1,aes(group=id,fill=id),
colour = "gray10",
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = mycolor1) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.2, show.legend = F)+
geom_sf(data = df_plot1,aes(group=id,fill=id),
colour = "gray10",
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = mycolor1) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.2, show.legend = F)+
geom_sf(data = df_plot1,aes(group=id,fill=id),
colour = "gray40",
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = mycolor1) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
df_plot1 <- df_shape2 %>% filter(state_code == 3)
df_plot3 <- df_shape19 %>% filter(state_code == 3)
# State Map
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.2, show.legend = F)+
geom_sf(data = df_plot1,aes(group=id,fill=id),
colour = NA,
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = mycolor1) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.4, show.legend = F)+
geom_sf(data = df_plot1,aes(group=id,fill=id),
colour = NA,
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = mycolor1) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.4, show.legend = F)+
geom_sf(data = df_plot1,aes(group=id,fill=id),
colour = "gray30",
size = 0.4, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = mycolor1) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.4, show.legend = F)+
geom_sf(data = df_plot1,aes(group=id,fill=id),
colour = "gray30",
size = 0.4, show.legend = F)+
coord_sf()+
scale_fill_manual(values = "#E77925") +
mytheme()+
labs(title = NULL,
subtitle = NULL)
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.4, show.legend = F)+
geom_sf(data = df_plot1,aes(group=id,fill=id),
colour = "gray30",
size = 0.4, show.legend = F)+
coord_sf()+
scale_fill_discrete(values = "#E77925") +
mytheme()+
labs(title = NULL,
subtitle = NULL)
# State Map
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.4, show.legend = F)+
geom_sf(data = df_plot1,aes(group=id,fill=id),
colour = "gray30",
size = 0.4, show.legend = F)+
coord_sf()+
scale_fill_manual(values = c("#E77925")) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.4, show.legend = F)+
geom_sf(data = df_plot1,aes(group=id,fill=id),
colour = "gray30", fill="#E77925",
size = 0.4, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = c("#E77925")) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.4, show.legend = F)+
geom_sf(data = df_plot1,aes(group=id,fill=id),
colour = "gray30", fill="#E77925",
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = c("#E77925")) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.4, show.legend = F)+
geom_sf(data = df_plot1,aes(group=id,fill=id),
colour = NA, fill="#E77925",
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = c("#E77925")) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.4, show.legend = F)+
geom_sf(data = df_plot1,aes(group=id,fill=id),
colour = "gray80", fill="#E77925",
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = c("#E77925")) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.4, show.legend = F)+
geom_sf(data = df_plot1,aes(group=id,fill=id),
colour = "gray60", fill="#E77925",
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = c("#E77925")) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.4, show.legend = F)+
geom_sf(data = df_plot1,aes(group=id,fill=id),
colour = "gray45", fill="#E77925",
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = c("#E77925")) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
for (i in state_code){
df_plot1 <- df_shape2 %>% filter(state_code == 3)
df_plot3 <- df_shape19 %>% filter(state_code == 3)
for(dist in 1:nrow(df_plot1)) {
# State Map
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.4, show.legend = F)+
geom_sf(data = df_plot1,aes(group=id,fill=id),
colour = "gray45", fill="#E77925",
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = c("#E77925")) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
}
}
for (i in state_code){
df_plot1 <- df_shape2 %>% filter(state_code == 3)
df_plot3 <- df_shape19 %>% filter(state_code == 3)
for(dist in 1:nrow(df_plot1)){
df_plot2<- df_plot1[dist,]
# State Map
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.4, show.legend = F)+
geom_sf(data = df_plot2,aes(group=id,fill=id),
colour = "gray45", fill="#E77925",
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = c("#E77925")) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
}
}
df_plot1 <- df_shape2 %>% filter(state_code == 3)
df_plot3 <- df_shape19 %>% filter(state_code == 3)
for(dist in 1:nrow(df_plot1)){
df_plot2<- df_plot1[dist,]
# State Map
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.4, show.legend = F)+
geom_sf(data = df_plot2,aes(group=id,fill=id),
colour = "gray45", fill="#E77925",
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = c("#E77925")) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
}
df_plot1 <- df_shape2 %>% filter(state_code == 3)
df_plot3 <- df_shape19 %>% filter(state_code == 3)
for(dist in 1:nrow(df_plot1)){
df_plot2<- df_plot1[dist,]
x <- paste(dist,state_code, sep="_")
eval(call("<-", as.name(x),
# State Map
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.4, show.legend = F)+
geom_sf(data = df_plot2,aes(group=id,fill=id),
colour = "gray45", fill="#E77925",
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = c("#E77925")) +
mytheme()+
labs(title = NULL,
subtitle = NULL)))
}
df_plot1 <- df_shape2 %>% filter(state_code == 3)
df_plot3 <- df_shape19 %>% filter(state_code == 3)
for(dist in 1:nrow(df_plot1)){
df_plot2<- df_plot1[dist,]
x <- paste(dist,state_code, sep="_")
eval(call("<-", as.name(x),
# State Map
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.4, show.legend = F)+
geom_sf(data = df_plot2,aes(group=id,fill=id),
colour = "gray45", fill="#E77925",
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = c("#E77925")) +
mytheme()+
labs(title = NULL,
subtitle = NULL)))
x
}
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.4, show.legend = F)+
geom_sf(data = df_plot2,aes(group=id,fill=id),
colour = "gray45", fill="#E77925",
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = c("#E77925")) +
mytheme()+
labs(title = NULL,
subtitle = NULL)))
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.4, show.legend = F)+
geom_sf(data = df_plot2,aes(group=id,fill=id),
colour = "gray45", fill="#E77925",
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = c("#E77925")) +
mytheme()+
labs(title = NULL,
subtitle = NULL))
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.4, show.legend = F)+
geom_sf(data = df_plot2,aes(group=id,fill=id),
colour = "gray45", fill="#E77925",
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = c("#E77925")) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
names(df_plot2$Name)
View(df_plot2)
table(df_plot2$Name)
st_nm<-df_plot2$State
dist_nm<-df_plot2$Name
for(dist in 1:nrow(df_plot1)){
df_plot2<- df_plot1[dist,]
# State Map
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.4, show.legend = F)+
geom_sf(data = df_plot2,aes(group=id,fill=id),
colour = "gray45", fill="#E77925",
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = c("#E77925")) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
st_nm<-df_plot2$State
dist_nm<-df_plot2$Name
ggname <- paste(st_nm, dist_nm, sep="_")
ggsave(filename = paste0(ggname, ".jpeg"),
units="in", width = 6, height = 6, dpi = 300,bg="white")
rm(list=c(st_nm,dist_nm,ggname))
}
getwd()
setwd("C:/Users/nishmeetsingh/Dropbox (IFPRI)/POSHAN-II/3.1 Knowledge Products/Knowledge Products/DNPs v.2.0/Shared/Non-comparable/Maps")
state_code<- c(3)
for (i in state_code){
df_plot1 <- df_shape2 %>% filter(state_code == i)
df_plot3 <- df_shape19 %>% filter(state_code == i)
for(dist in 1:nrow(df_plot1)){
df_plot2<- df_plot1[dist,]
# State Map
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.4, show.legend = F)+
geom_sf(data = df_plot2,aes(group=id,fill=id),
colour = "gray45", fill="#E77925",
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = c("#E77925")) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
st_nm<-df_plot2$State
dist_nm<-df_plot2$Name
ggname <- paste(st_nm, dist_nm, sep="_")
ggsave(filename = paste0(ggname, ".jpeg"),
units="in", width = 6, height = 6, dpi = 300,bg="white")
rm(list=c(st_nm,dist_nm,ggname))
}
}
table(df_shape2$state_code)
state_code<- c(3,6,7,9,12,16)
for (i in state_code){
df_plot1 <- df_shape2 %>% filter(state_code == i)
df_plot3 <- df_shape19 %>% filter(state_code == i)
for(dist in 1:nrow(df_plot1)){
df_plot2<- df_plot1[dist,]
# State Map
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.4, show.legend = F)+
geom_sf(data = df_plot2,aes(group=id,fill=id),
colour = "gray45", fill="#E77925",
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = c("#E77925")) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
st_nm<-df_plot2$State
dist_nm<-df_plot2$Name
ggname <- paste(st_nm, dist_nm, sep="_")
ggsave(filename = paste0(ggname, ".jpeg"),
units="in", width = 6, height = 6, dpi = 300,bg="white")
rm(list=c(st_nm,dist_nm,ggname))
}
}
state_code<-c(17,18,19,22,23,24,27,36)
for (i in state_code){
df_plot1 <- df_shape2 %>% filter(state_code == i)
df_plot3 <- df_shape19 %>% filter(state_code == i)
for(dist in 1:nrow(df_plot1)){
df_plot2<- df_plot1[dist,]
# State Map
ggplot()+
geom_sf(data = df_plot3,
fill = "#88B440",colour = "gray40",
size = 0.4, show.legend = F)+
geom_sf(data = df_plot2,aes(group=id,fill=id),
colour = "gray45", fill="#E77925",
size = 0.2, show.legend = F)+
coord_sf()+
#scale_fill_manual(values = c("#E77925")) +
mytheme()+
labs(title = NULL,
subtitle = NULL)
st_nm<-df_plot2$State
dist_nm<-df_plot2$Name
ggname <- paste(st_nm, dist_nm, sep="_")
ggsave(filename = paste0(ggname, ".jpeg"),
units="in", width = 6, height = 6, dpi = 300,bg="white")
rm(list=c(st_nm,dist_nm,ggname))
}
}
warning()
warnings()
